FROM ubuntu:16.04
RUN apt-get update
RUN DEBIAN_FRONTEND=noninteractive apt-get install -y -q python-all python-pip wget
RUN wget https://raw.githubusercontent.com/PT-Jaloit/DevOps-Lab/master/KetterÃ¤%20testaus/Docker/requirements.txt
RUN wget https://github.com/mozilla/geckodriver/releases/download/v0.18.0/geckodriver-v0.18.0-linux64.tar.gz
RUN tar -x geckodriver -zf geckodriver-v0.18.0-linux64.tar.gz -O > /usr/bin/geckodriver
RUN chmod +x /usr/bin/geckodriver
RUN pip install -qr requirements.txt
ADD ./webdemo /opt/webdemo/
WORKDIR /opt/webdemo
EXPOSE 7272
CMD ["python", "demoapp/server.py"]
CMD ["robot", "login_tests"]